<!DOCTYPE html>
<html style="height: 100%;">

<head>
  <meta charset='UTF-8'>
  <title>Experimentos CSCN</title>
  <link rel="stylesheet" href="jsPsych-6/css/jspsych.css">
</head>

<body id="general_body" style="height:100%;" class=" jspsych-display-element">

  <!-- Main JsPsych library -->
  <script src="jsPsych-6/jspsych.js"></script>
  <!-- esentials plugins -->
  <script src="jsPsych-6/plugins/jspsych-call-function.js"></script>
  <script src="jsPsych-6/plugins/jspsych-preload.js"></script>

  <!-- Protocol Plugins: CANONICAL -->
  <script src="jsPsych-6/plugins/jspsych-video-button-response.js"></script>
  <script src="jsPsych-6/plugins/jspsych-survey-multi-choice.js"></script>
  <script src="jsPsych-6/plugins/jspsych-survey-multi-choice-horizontal.js"></script>
  <script src="jsPsych-6/plugins/jspsych-survey-multi-choice-vertical.js"></script>
  <script src="jsPsych-6/plugins/jspsych-survey-multi-select.js"></script>
  <script src="jsPsych-6/plugins/jspsych-html-button-response.js"></script>
  <script src="jsPsych-6/plugins/jspsych-image-button-response.js"></script>
  <script src="jsPsych-6/plugins/jspsych-fullscreen.js"></script>
  <script src="jsPsych-6/plugins/jspsych-instructions.js"></script>
  <script src="jsPsych-6/plugins/jspsych-external-html.js"></script>
  <script src="jsPsych-6/plugins/jspsych-survey-text.js"></script>
  <script src="jsPsych-6/plugins/jspsych-html-slider-response.js"></script>
  <script src="jsPsych-6/plugins/jspsych-survey-html-form.js"></script>
  
  <!-- Protocol Plugins: CUSTOM -->
  <script src="jsPsych-6/plugins/jspsych-audio-button-response-CSCN-BART.js"></script>


  <!-- Controllers -->
  <script src="controllers/js/script_loading.js"></script>

  <!-- Database initialization and control -->
  <script src="controllers/js/mysql_controller.js"></script>
  <script src="controllers/js/indexedDB_controller.js"></script>
  <script src="controllers/js/save_data.js"></script>

  <!-- Protocol Configuration -->
  <script src="config.js"></script>
  <script src="controllers/js/config_controller.js"></script>

  <div class="jspsych-content-wrapper">
    <div id="jspsych-content" class="jspsych-content">
      <div class="jspsych-instructions-nav" style="padding: 10px 0px;">
        <span id="text_input_uid"></span><br><br>
        <input id="input_uid" hidden="true" required></input>
        <input style="display:none !important" id="check" type="submit" onclick="check_id_status(event)" value="Comenzar" class="jspsych-btn"></input>
        <input style="display:none !important" id="start" type="button" onclick="start_protocol(questions)" value="Continuar" class="jspsych-btn" hidden></input>
      </div>
    </div>
  </div>

  <script>
    if (random_id) {
      document.getElementById("input_uid").value = jsPsych.randomization.randomID(20);
    }
    else {
      if (!params.has("uid"))
        text_input_uid.innerHTML = intro;
        document.getElementById("check").removeAttribute("style");
        document.getElementById("input_uid").hidden = false;
    }
  </script>

  <!-- PROTOCOL MACHINERY -->
  <script src="controllers/js/protocol_controller.js"></script>
  <script>
    window.onload = function() {

      // carga css (css_loading.js)
      link=document.createElement('link');
      link.rel='stylesheet';
      link.type = 'text/css';
      if (!hasTouchScreen) {
        link.href='controllers/css/style.css';
      } else {
        link.href='controllers/css/style_phone.css';
      }
      document.getElementsByTagName('head')[0].appendChild(link);

      check_id_status();
    };
  </script>
  <script type="text/javascript" src="controllers/js/css_loading.js"></script>

  </body>
</html>
